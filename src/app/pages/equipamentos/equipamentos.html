<section id="hero" class="bg-[url('/imagens/fachada.webp')] bg-cover bg-center">
  <div class="bg-linear-to-r from-primary to-[#3679D2]/10 pt-20">
    <div class="container mx-auto text-primary-content py-20 px-2 flex">
      <div class="lg:max-w-1/2 mr-0">
        <h1 class="text-5xl lg:text-6xl font-extrabold">Equipamentos</h1>
        <p class="mt-4 text-2xl">
          Catálogo completo com equipamentos para todas as etapas da sua obra. Locação diária,
          semanal, quinzenal e mensal.
        </p>
      </div>
    </div>
  </div>
</section>

<section class="container mx-auto py-10 space-y-6 mb-10">
  <section>
    <div
      class="w-48 h-48 object-cover mx-auto flex items-center rounded-full shadow-lg cursor-pointer overflow-hidden outline-4 outline-offset-2 outline-secondary mb-4"
      (click)="playAndGoFullscreen()"
    >
      <video #videoStory src="videos/comprar-ou-alugar.mp4" muted autoplay class="w-full"></video>
    </div>
    <h2 class="text-4xl font-semibold my-10 text-center text-primary">
      Locação de equipamentos para construção civil
    </h2>
    <div class="join w-full px-2">
      <div class="w-full">
        <label class="input input-sm md:input-md lg:input-lg validator join-item w-full">
          <lucide-angular [img]="Search" class="h-[1em] opacity-50"></lucide-angular>
          <input
            type="search"
            placeholder="Pesquisa equipamentos ou categorias"
            [value]="query"
            (input)="onInput($any($event.target).value)"
            required
          />
        </label>
      </div>
      <button
        class="btn btn-neutral btn-sm md:btn-md lg:btn-lg join-item"
        (click)="onSelect(suggestions[0])"
        [disabled]="!suggestions.length"
      >
        Procurar
      </button>
    </div>

    @if (suggestions.length) {
    <div class="absolute z-20 mt-2 bg-base-100 border border-base-300 rounded-box shadow">
      <ul class="menu menu-xs md:menu-sm lg:menu-md">
        @for (s of suggestions; track s.slug) {
        <li>
          <button class="justify-start gap-2" (click)="onSelect(s)">
            <span class="badge badge-ghost">{{
              s.kind === 'categoria' ? 'Categoria' : 'Equipamento'
            }}</span>
            <span>{{ s.label }}</span>
          </button>
        </li>
        }
      </ul>
    </div>
    }
    <div class="mt-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 text-left px-2">
      @for (c of categorias; track c.slug) {
      <a
        class="card bg-primary text-primary-content shadow-md hover:shadow-lg transition-shadow"
        [routerLink]="['/equipamentos', c.slug]"
        [attr.aria-label]="c.nome"
      >
        <figure class="bg-primary h-48">
          <img [src]="c.avatar" [alt]="c.nome" class="w-full h-full object-cover" />
        </figure>

        <div class="card-body">
          <h3 class="card-title text-lg">{{ c.nome }}</h3>
          <p class="text-sm opacity-80">{{ c.objetivo }}</p>
        </div>
      </a>
      }
    </div>
  </section>
</section>

<section class="py-16 md:py-24 bg-muted">
  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl md:text-4xl font-heading font-bold mb-4">
        Não encontrou o equipamento que precisa?
      </h2>
      <p class="text-lg text-muted-foreground mb-8">
        Entre em contato conosco! Temos diversos outros equipamentos disponíveis e nossa equipe terá
        prazer em ajudar você a encontrar a solução ideal.
      </p>
      <a
        href="https://wa.me/5581985555943?text=Olá!%20Gostaria%20de%20informações%20sobre%20equipamentos."
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-primary text-secondary"
        >Falar com Nossa Equipe</a
      >
    </div>
  </div>
</section>
